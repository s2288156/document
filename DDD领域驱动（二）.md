往期文章：

> [DDD领域驱动 - 设计聚合（一）](https://juejin.im/post/6893875509726773255)

![](https://wcy-img.oss-cn-beijing.aliyuncs.com/images/DDD/DDD%E5%85%A8%E6%B5%81%E7%A8%8B%E5%9B%BE.png)

整个DDD落地的过程，可以分为上图的5个步骤，上一篇文章直接跳过了事件风暴，直接将**领域故事分析**和**提取领域对象**统一进行，完成了聚合的设计。

这是因为DDD领域建模和系统建设，需要很多参与者，包括领域专家、产品经理、项目经理、架构师、开发经理、测试经理等，并且参与代码开发的人员也需要对DDD理念有深刻的理解，对整个团队要求很高。

同时，DDD作为一套复杂的方法论，只有很多大厂有成功的落地经验，大部分中小企业并没有这方面经验，要协调上述这么多部门做DDD驱动设计，如果严格按照这套流程，很可能无法落地，最终不了了之。

对于DDD，从一名开发人员的角度来看，最主要的是指导我们设计出高内聚、低耦合、易扩展、能持续演进的架构和代码。所以我在想，能不能将DDD的方法灵活变通一下，使得其实施的门槛降低，最终可以在研发部门落地，指导研发人员写出高质量的代码。

针对模拟电商的创建订单场景，我们已经设计了聚合，接下来就要做领域对象与代码模型映射，在这之前先补充几个概念。

## 事件风暴

这个是整个DDD的开始，是一种分析方法，属于战略设计（业务分析流程）。简单的说，事件风暴有点类似于头脑风暴，需要激发大家对业务的理解，畅所欲言。分析出业务的事件（Event）、命令（Command）、用户（User）。比如用户（User）选择了购物车商品，创建订单（Command），订单创建成功（Event）。类似于这样的流程，进行分析。

个人认为，这一步也是在众多公司中很难实现的一步，因为它需要全员参加，包括产品经理、开发人员、架构师、业务人员、测试等等。如果团队对DDD没有深刻的了解，以及对DDD的认可，事件风暴可能无法顺利的开展，或者沦为形式。作为研发人员，建议了解一下流程，在对产品需求进行分析设计时，自己画图模拟下这个过程，可以辅助自己进行聚合设计。

具体的讲解可以参考这篇文章[《事件风暴-概念》](https://zhuanlan.zhihu.com/p/110979132)

## 限界上下文

简单的解释，限界上下文其实可以映射为一个微服务。

简单的可以将一个商城拆分为以下服务，这些就是限界上下文：

- 订单服务
- 用户服务
- 商品服务
- 用户服务
- ......



